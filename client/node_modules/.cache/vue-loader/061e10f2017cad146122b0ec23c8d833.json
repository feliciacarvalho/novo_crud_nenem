{"remainingRequest":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/felicia/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeForm.vue","mtime":1657584304058},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/babel-loader/lib/index.js","mtime":1657594131326},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js","mtime":1657594132906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgcmVnaXN0cmF0aW9uOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6ZmFsc2UKICAgICAgICB9LAogICAgICAgIGVkaXQ6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgZW1wbG95ZWU6IG51bGwsCiAgICAgICAgICAgIGdlbmRlckxpc3Q6IFsiTWFsZSIsICJGZW1hbGUiXSwKICAgICAgICAgICAgZGVwYXJ0ZW1lbnRMaXN0OiBbIkVuZ2luZWVyaW5nIiwgIlRyYWluaW5nIiwgIkJ1c3NpbmVzcyIsICJTZXJ2aWNlIiwgIkh1bWFuIFJlc291cmNlIl0sCiAgICAgICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgICAgIGlzT3BlcmF0aW9uU3VjY2VzczogZmFsc2UsCiAgICAgICAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgZ2VuZGVyOiAnJywKICAgICAgICAgICAgICAgIGRlcGFydGVtZW50OiAnJywKICAgICAgICAgICAgICAgIGFib3V0OiAnJwogICAgICAgICAgICB9LAogICAgICAgICAgICB2YWxpZDogZmFsc2UsCiAgICAgICAgICAgIG5hbWVSdWxlczogWwogICAgICAgICAgICAgICAgdiA9PiAhIXYgfHwgJ05hbWUgaXMgcmVxdWlyZWQnLAogICAgICAgICAgICAgICAgdiA9PiB2Lmxlbmd0aCA8PSA0MCB8fCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiA0MCBjaGFyYWN0ZXJzJywKICAgICAgICAgICAgICAgIHYgPT4gdi5sZW5ndGggPj0gMyB8fCAnTmFtZSBtdXN0IGJlIG1vcmUgdGhhbiAzIGNoYXJhY3RlcnMnCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGdlbmRlclJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnR2VuZGVyIGlzIHJlcXVpcmVkJwogICAgICAgICAgICBdLAogICAgICAgICAgICBkZXBhcnRlbWVudFJ1bGVzOiBbCiAgICAgICAgICAgICAgICB2ID0+ICEhdiB8fCAnRGVwYXJ0ZW1lbnQgaXMgcmVxdWlyZWQnCiAgICAgICAgICAgIF0KICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBzdWNjZXNzKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzT3BlcmF0aW9uU3VjY2VzcwogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZWRpdEl0ZW0oaXRlbSl7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pCiAgICAgICAgfSwKICAgICAgICBzYXZlKCl7CgogICAgICAgICAgICBpZih0aGlzLnJlZ2lzdHJhdGlvbil7CiAgICAgICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9lbXBsb3llZXMvJywKICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmVkaXRlZEl0ZW0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGFtcGlsa2FuIGRpYWxvZyByZWdpc3RyYXNpIHN1a3NlcwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVyYXRpb25TdWNjZXNzID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nID0gdHJ1ZQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgICAvLyBUYW1waWxrYW4gZGlhbG9nIHJlZ2l0cmFzaSBnYWdhbAogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVyYXRpb25TdWNjZXNzID0gZmFsc2UKICAgICAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIH0pICAgICAgIAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZih0aGlzLmVkaXQpewogICAgICAgICAgICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZW1wbG95ZWVzLyR7aWR9YCwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmVkaXRlZEl0ZW0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGFtcGlsa2FuIGRpYWxvZyBlZGl0IGJlcmhhc2lsCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc09wZXJhdGlvblN1Y2Nlc3MgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKXsKICAgICAgICBpZih0aGlzLmVkaXQpewogICAgICAgICAgICAvLyBHRVQgaW5mbyBlbXBsb3llZSB5YW5nIG1hdSBkaSBlZGl0CiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgICAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2VtcGxveWVlcy8ke2lkfWApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbXBsb3llZSA9IHJlc3BvbnNlLmRhdGFbMF0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRJdGVtKHRoaXMuZW1wbG95ZWUpICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGlmKHRoaXMucmVnaXN0cmF0aW9uKXsKICAgICAgICAgICAgdGhpcy5lbXBsb3llZSA9IHRoaXMuZWRpdGVkSXRlbQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["EmployeeForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"EmployeeForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-form v-model=\"valid\">\n        <v-container v-if=\"employee\">\n            <h1 class=\"text-center mb-10\" v-if=\"registration\">Registration Form</h1>\n            <h1 class=\"text-center mb-10\" v-if=\"edit\">Edit Form</h1>\n\n            <!-- Fullname Text field -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-text-field\n                        v-model=\"editedItem.name\"\n                        :rules=\"nameRules\"\n                        label=\"Employee Fullname\"\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n\n            <!-- Gender dropdown -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-select\n                        v-model=\"editedItem.gender\"\n                        :rules=\"genderRules\"\n                        :items=\"genderList\"\n                        label=\"Gender\"\n                    >\n                    </v-select>\n                </v-col>\n            </v-row>\n\n            <!-- Departement Autocomplete -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-autocomplete\n                        v-model=\"editedItem.departement\"\n                        :rules=\"departementRules\"\n                        :items=\"departementList\"\n                        label=\"Departement\"\n                    ></v-autocomplete>\n                </v-col>\n            </v-row>\n\n            <!-- About Textarea -->\n            <v-row>\n                <v-col>\n                    <v-textarea\n                        v-model=\"editedItem.about\"\n                        outlined\n                        label=\"About Employee\"\n                    ></v-textarea>\n                </v-col>\n            </v-row>\n\n            <!-- Actions button -->\n            <v-row>\n                <v-spacer></v-spacer>\n                <v-col cols=\"2\">\n                    <v-btn\n                        color=\"primary\"\n                        @click.stop=\"save\"\n                        :disabled=\"!valid\"\n                    >Save</v-btn>\n                </v-col>\n                <v-dialog\n                    v-model=\"dialog\"\n                    width=\"500\"\n                >\n                    <v-card>\n\n                        <v-card-title>\n                            <p v-if=\"success && registration\">Employee Registration Success</p>\n                            <p v-if=\"!success && registration\">Employee Registration Failed</p>\n                            <p v-if=\"success && edit\">Employee Edit Success</p>\n                            <p v-if=\"!success && edit\">Employee Edit Failed</p>\n                        </v-card-title>\n\n                        <v-card-text>\n                            <p v-if=\"success\">You can check data in employee table</p>\n                            <p v-if=\"!success\">Try again</p>\n                        </v-card-text>\n\n                        <v-divider></v-divider>\n\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"edit\"\n                                @click.stop=\"dialog = !dialog\"\n                                color=\"primary\"\n                            >Continue Editing</v-btn>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                @click.stop=\"dialog = !dialog\"\n                                color=\"primary\"\n                                :to=\"success ? '/' : $route.name\"\n                            >OK</v-btn>\n                        </v-card-actions>\n\n                    </v-card>\n                </v-dialog>\n            </v-row>\n\n        </v-container>\n    </v-form>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    props: {\n        registration: {\n            type: Boolean,\n            default:false\n        },\n        edit: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data(){\n        return{\n            employee: null,\n            genderList: [\"Male\", \"Female\"],\n            departementList: [\"Engineering\", \"Training\", \"Bussiness\", \"Service\", \"Human Resource\"],\n            dialog: false,\n            isOperationSuccess: false,\n            editedItem: {\n                name: '',\n                gender: '',\n                departement: '',\n                about: ''\n            },\n            valid: false,\n            nameRules: [\n                v => !!v || 'Name is required',\n                v => v.length <= 40 || 'Name must be less than 40 characters',\n                v => v.length >= 3 || 'Name must be more than 3 characters'\n            ],\n            genderRules: [\n                v => !!v || 'Gender is required'\n            ],\n            departementRules: [\n                v => !!v || 'Departement is required'\n            ]\n        }\n    },\n    computed: {\n        success(){\n            return this.isOperationSuccess\n        }\n    },\n    methods: {\n        editItem(item){\n            this.editedItem = Object.assign({}, item)\n        },\n        save(){\n\n            if(this.registration){\n                axios({\n                    method: 'post',\n                    url: 'http://localhost:3000/api/employees/',\n                    data: this.editedItem\n                })\n                .then(response => {\n                    // Tampilkan dialog registrasi sukses\n                    this.isOperationSuccess = true\n                    this.dialog = true\n                    console.log(response.data)\n                })\n                .catch(error => {\n                    // Tampilkan dialog regitrasi gagal\n                    this.isOperationSuccess = false\n                    this.dialog = true\n                    console.log(error)\n                })       \n            }\n\n            if(this.edit){\n                const id = this.$route.params.id\n                axios({\n                    method: 'put',\n                    url: `http://localhost:3000/api/employees/${id}`,\n                    data: this.editedItem\n                })\n                .then(response => {\n                    // Tampilkan dialog edit berhasil\n                    this.isOperationSuccess = true\n                    this.dialog = true\n                    console.log(response.data)\n                })\n                .catch(error => console.log(error))\n            }\n        }\n    },\n    created(){\n        if(this.edit){\n            // GET info employee yang mau di edit\n            const id = this.$route.params.id\n            axios\n                .get(`http://localhost:3000/api/employees/${id}`)\n                .then(response => {\n                    this.employee = response.data[0]\n                    this.editItem(this.employee)           \n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        }\n\n        if(this.registration){\n            this.employee = this.editedItem\n        }\n    }\n}\n</script>"]}]}
{"remainingRequest":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/babel-loader/lib/index.js!/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/felicia/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeForm.vue","mtime":1657584304058},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/babel-loader/lib/index.js","mtime":1657594131326},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js","mtime":1657594132906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICByZWdpc3RyYXRpb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBlZGl0OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1wbG95ZWU6IG51bGwsCiAgICAgIGdlbmRlckxpc3Q6IFsiTWFsZSIsICJGZW1hbGUiXSwKICAgICAgZGVwYXJ0ZW1lbnRMaXN0OiBbIkVuZ2luZWVyaW5nIiwgIlRyYWluaW5nIiwgIkJ1c3NpbmVzcyIsICJTZXJ2aWNlIiwgIkh1bWFuIFJlc291cmNlIl0sCiAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgIGlzT3BlcmF0aW9uU3VjY2VzczogZmFsc2UsCiAgICAgIGVkaXRlZEl0ZW06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBnZW5kZXI6ICcnLAogICAgICAgIGRlcGFydGVtZW50OiAnJywKICAgICAgICBhYm91dDogJycKICAgICAgfSwKICAgICAgdmFsaWQ6IGZhbHNlLAogICAgICBuYW1lUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ05hbWUgaXMgcmVxdWlyZWQnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2Lmxlbmd0aCA8PSA0MCB8fCAnTmFtZSBtdXN0IGJlIGxlc3MgdGhhbiA0MCBjaGFyYWN0ZXJzJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5sZW5ndGggPj0gMyB8fCAnTmFtZSBtdXN0IGJlIG1vcmUgdGhhbiAzIGNoYXJhY3RlcnMnOwogICAgICB9XSwKICAgICAgZ2VuZGVyUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ0dlbmRlciBpcyByZXF1aXJlZCc7CiAgICAgIH1dLAogICAgICBkZXBhcnRlbWVudFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICdEZXBhcnRlbWVudCBpcyByZXF1aXJlZCc7CiAgICAgIH1dCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7CiAgICAgIHJldHVybiB0aGlzLmlzT3BlcmF0aW9uU3VjY2VzczsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXRJdGVtOiBmdW5jdGlvbiBlZGl0SXRlbShpdGVtKSB7CiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5yZWdpc3RyYXRpb24pIHsKICAgICAgICBheGlvcyh7CiAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZW1wbG95ZWVzLycsCiAgICAgICAgICBkYXRhOiB0aGlzLmVkaXRlZEl0ZW0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy8gVGFtcGlsa2FuIGRpYWxvZyByZWdpc3RyYXNpIHN1a3NlcwogICAgICAgICAgX3RoaXMuaXNPcGVyYXRpb25TdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgIF90aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIC8vIFRhbXBpbGthbiBkaWFsb2cgcmVnaXRyYXNpIGdhZ2FsCiAgICAgICAgICBfdGhpcy5pc09wZXJhdGlvblN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmVkaXQpIHsKICAgICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAncHV0JywKICAgICAgICAgIHVybDogImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZW1wbG95ZWVzLyIuY29uY2F0KGlkKSwKICAgICAgICAgIGRhdGE6IHRoaXMuZWRpdGVkSXRlbQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAvLyBUYW1waWxrYW4gZGlhbG9nIGVkaXQgYmVyaGFzaWwKICAgICAgICAgIF90aGlzLmlzT3BlcmF0aW9uU3VjY2VzcyA9IHRydWU7CiAgICAgICAgICBfdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgaWYgKHRoaXMuZWRpdCkgewogICAgICAvLyBHRVQgaW5mbyBlbXBsb3llZSB5YW5nIG1hdSBkaSBlZGl0CiAgICAgIHZhciBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2VtcGxveWVlcy8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmVtcGxveWVlID0gcmVzcG9uc2UuZGF0YVswXTsKCiAgICAgICAgX3RoaXMyLmVkaXRJdGVtKF90aGlzMi5lbXBsb3llZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CgogICAgaWYgKHRoaXMucmVnaXN0cmF0aW9uKSB7CiAgICAgIHRoaXMuZW1wbG95ZWUgPSB0aGlzLmVkaXRlZEl0ZW07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["EmployeeForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-form v-model=\"valid\">\n        <v-container v-if=\"employee\">\n            <h1 class=\"text-center mb-10\" v-if=\"registration\">Registration Form</h1>\n            <h1 class=\"text-center mb-10\" v-if=\"edit\">Edit Form</h1>\n\n            <!-- Fullname Text field -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-text-field\n                        v-model=\"editedItem.name\"\n                        :rules=\"nameRules\"\n                        label=\"Employee Fullname\"\n                    ></v-text-field>\n                </v-col>\n            </v-row>\n\n            <!-- Gender dropdown -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-select\n                        v-model=\"editedItem.gender\"\n                        :rules=\"genderRules\"\n                        :items=\"genderList\"\n                        label=\"Gender\"\n                    >\n                    </v-select>\n                </v-col>\n            </v-row>\n\n            <!-- Departement Autocomplete -->\n            <v-row>\n                <v-col cols=\"5\">\n                    <v-autocomplete\n                        v-model=\"editedItem.departement\"\n                        :rules=\"departementRules\"\n                        :items=\"departementList\"\n                        label=\"Departement\"\n                    ></v-autocomplete>\n                </v-col>\n            </v-row>\n\n            <!-- About Textarea -->\n            <v-row>\n                <v-col>\n                    <v-textarea\n                        v-model=\"editedItem.about\"\n                        outlined\n                        label=\"About Employee\"\n                    ></v-textarea>\n                </v-col>\n            </v-row>\n\n            <!-- Actions button -->\n            <v-row>\n                <v-spacer></v-spacer>\n                <v-col cols=\"2\">\n                    <v-btn\n                        color=\"primary\"\n                        @click.stop=\"save\"\n                        :disabled=\"!valid\"\n                    >Save</v-btn>\n                </v-col>\n                <v-dialog\n                    v-model=\"dialog\"\n                    width=\"500\"\n                >\n                    <v-card>\n\n                        <v-card-title>\n                            <p v-if=\"success && registration\">Employee Registration Success</p>\n                            <p v-if=\"!success && registration\">Employee Registration Failed</p>\n                            <p v-if=\"success && edit\">Employee Edit Success</p>\n                            <p v-if=\"!success && edit\">Employee Edit Failed</p>\n                        </v-card-title>\n\n                        <v-card-text>\n                            <p v-if=\"success\">You can check data in employee table</p>\n                            <p v-if=\"!success\">Try again</p>\n                        </v-card-text>\n\n                        <v-divider></v-divider>\n\n                        <v-card-actions>\n                            <v-btn\n                                v-if=\"edit\"\n                                @click.stop=\"dialog = !dialog\"\n                                color=\"primary\"\n                            >Continue Editing</v-btn>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                @click.stop=\"dialog = !dialog\"\n                                color=\"primary\"\n                                :to=\"success ? '/' : $route.name\"\n                            >OK</v-btn>\n                        </v-card-actions>\n\n                    </v-card>\n                </v-dialog>\n            </v-row>\n\n        </v-container>\n    </v-form>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    props: {\n        registration: {\n            type: Boolean,\n            default:false\n        },\n        edit: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data(){\n        return{\n            employee: null,\n            genderList: [\"Male\", \"Female\"],\n            departementList: [\"Engineering\", \"Training\", \"Bussiness\", \"Service\", \"Human Resource\"],\n            dialog: false,\n            isOperationSuccess: false,\n            editedItem: {\n                name: '',\n                gender: '',\n                departement: '',\n                about: ''\n            },\n            valid: false,\n            nameRules: [\n                v => !!v || 'Name is required',\n                v => v.length <= 40 || 'Name must be less than 40 characters',\n                v => v.length >= 3 || 'Name must be more than 3 characters'\n            ],\n            genderRules: [\n                v => !!v || 'Gender is required'\n            ],\n            departementRules: [\n                v => !!v || 'Departement is required'\n            ]\n        }\n    },\n    computed: {\n        success(){\n            return this.isOperationSuccess\n        }\n    },\n    methods: {\n        editItem(item){\n            this.editedItem = Object.assign({}, item)\n        },\n        save(){\n\n            if(this.registration){\n                axios({\n                    method: 'post',\n                    url: 'http://localhost:3000/api/employees/',\n                    data: this.editedItem\n                })\n                .then(response => {\n                    // Tampilkan dialog registrasi sukses\n                    this.isOperationSuccess = true\n                    this.dialog = true\n                    console.log(response.data)\n                })\n                .catch(error => {\n                    // Tampilkan dialog regitrasi gagal\n                    this.isOperationSuccess = false\n                    this.dialog = true\n                    console.log(error)\n                })       \n            }\n\n            if(this.edit){\n                const id = this.$route.params.id\n                axios({\n                    method: 'put',\n                    url: `http://localhost:3000/api/employees/${id}`,\n                    data: this.editedItem\n                })\n                .then(response => {\n                    // Tampilkan dialog edit berhasil\n                    this.isOperationSuccess = true\n                    this.dialog = true\n                    console.log(response.data)\n                })\n                .catch(error => console.log(error))\n            }\n        }\n    },\n    created(){\n        if(this.edit){\n            // GET info employee yang mau di edit\n            const id = this.$route.params.id\n            axios\n                .get(`http://localhost:3000/api/employees/${id}`)\n                .then(response => {\n                    this.employee = response.data[0]\n                    this.editItem(this.employee)           \n                })\n                .catch(error => {\n                    console.log(error)\n                })\n        }\n\n        if(this.registration){\n            this.employee = this.editedItem\n        }\n    }\n}\n</script>"],"sourceRoot":"src/components"}]}
{"remainingRequest":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/babel-loader/lib/index.js!/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/src/components/EmployeeTable.vue","mtime":1657584304058},{"path":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/babel-loader/lib/index.js","mtime":1657594131326},{"path":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/cache-loader/dist/cjs.js","mtime":1657594128558},{"path":"/home/felicia/Documentos/PEVN-CRUD-TUTORIAL/client/node_modules/vue-loader/lib/index.js","mtime":1657594132906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgZGlhbG9nRGVsZXRlOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRJdGVtSW5kZXg6IC0xLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdJRCcsCiAgICAgICAgdmFsdWU6ICdpZCcKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdOYW1lJywKICAgICAgICB2YWx1ZTogJ25hbWUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnRGVwYXJ0ZW1lbnQnLAogICAgICAgIHZhbHVlOiAnZGVwYXJ0ZW1lbnQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnQWN0aW9ucycsCiAgICAgICAgdmFsdWU6ICdhY3Rpb25zJwogICAgICB9XSwKICAgICAgLy8gRW1wbG95ZWVzIGRhdGEgZHVtbWllcwogICAgICBlbXBsb3llZXM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGlua05lYXRlZDogZnVuY3Rpb24gbGlua05lYXRlZChsaW5rKSB7CiAgICAgIHJldHVybiBsaW5rLnJlcGxhY2UoL1xzKy9nLCAnLScpLnRvTG9jYWxlTG93ZXJDYXNlKCk7CiAgICB9LAogICAgZGVsZXRlSXRlbTogZnVuY3Rpb24gZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgICB0aGlzLnNlbGVjdGVkSXRlbUluZGV4ID0gdGhpcy5lbXBsb3llZXMuaW5kZXhPZihpdGVtKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSB0cnVlOyAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkSXRlbUluZGV4KQogICAgfSwKICAgIGNsb3NlRGVsZXRlOiBmdW5jdGlvbiBjbG9zZURlbGV0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2U7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5zZWxlY3RlZEl0ZW1JbmRleCA9IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVJdGVtQ29uZmlybTogZnVuY3Rpb24gZGVsZXRlSXRlbUNvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRlbGV0ZUVtcGxveWVlID0gdGhpcy5lbXBsb3llZXNbdGhpcy5zZWxlY3RlZEl0ZW1JbmRleF07CiAgICAgIGF4aW9zLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9lbXBsb3llZXMvIi5jb25jYXQoZGVsZXRlRW1wbG95ZWUuaWQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5lbXBsb3llZXMuc3BsaWNlKF90aGlzMi5zZWxlY3RlZEl0ZW1JbmRleCwgMSk7CgogICAgICAgIF90aGlzMi5jbG9zZURlbGV0ZSgpOwoKICAgICAgICBjb25zb2xlLmxvZygiREVMRVRFIFNVQ0NFU1MiLCByZXNwb25zZS5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvZW1wbG95ZWVzLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzMy5lbXBsb3llZXMgPSByZXNwb25zZS5kYXRhOyAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["EmployeeTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA,KAFA;AAGA,MAAA,iBAAA,EAAA,CAAA,CAHA;AAIA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,IAAA,EAAA,aAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,CAJA;AAUA;AACA,MAAA,SAAA,EAAA;AAXA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,MAAA,EAAA,GAAA,EAAA,iBAAA,EAAA;AACA,KAHA;AAIA,IAAA,UAJA,sBAIA,IAJA,EAIA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,WAAA,iBAAA,GAAA,KAAA,SAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,WAAA,YAAA,GAAA,IAAA,CAHA,CAIA;AACA,KATA;AAUA,IAAA,WAVA,yBAUA;AAAA;;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,iBAAA,GAAA,CAAA,CAAA;AACA,OAFA;AAGA,KAfA;AAgBA,IAAA,iBAhBA,+BAgBA;AAAA;;AACA,UAAA,cAAA,GAAA,KAAA,SAAA,CAAA,KAAA,iBAAA,CAAA;AACA,MAAA,KAAA,CACA,MADA,+CACA,cAAA,CAAA,EADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,CAAA;;AACA,QAAA,MAAA,CAAA,WAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,QAAA,CAAA,IAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OATA;AAWA;AA7BA,GAhBA;AA+CA,EAAA,OA/CA,qBA+CA;AAAA;;AACA,IAAA,KAAA,CACA,GADA,CACA,sCADA,EAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,MAAA,MAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CADA,CAEA;AACA,KALA,EAMA,KANA,CAMA,UAAA,KAAA;AAAA,aAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,KANA;AAOA;AAvDA,CAAA","sourcesContent":["<template>\n    <v-container>\n        <!-- Searchbox -->\n        <v-row align=\"center\">\n            <v-col cols=\"4\">\n                <v-text-field\n                    v-model=\"search\"\n                    single-line\n                    label=\"Search Employees...\"\n                ></v-text-field>\n            </v-col>\n        </v-row>\n\n        <v-row>\n            <v-col>\n                <v-data-table\n                    :headers=\"headers\"\n                    :items=\"employees\"\n                    :search=\"search\"\n                >\n                    <!-- Delete Dialog -->\n                    <template v-slot:top>\n                        <v-toolbar flat>\n                            <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n                                <v-card>\n                                    <v-card-title class=\"headline\">Serius mau di delete ?</v-card-title>\n                                    <v-card-actions>\n                                        <v-spacer></v-spacer>\n                                        <v-btn color=\"primary\" @click=\"closeDelete\">Cancel</v-btn>\n                                        <v-btn color=\"primary\" @click=\"deleteItemConfirm\">Ok</v-btn>\n                                    </v-card-actions>\n                                </v-card>\n                            </v-dialog>\n                        </v-toolbar>\n                    </template>\n\n                    <!-- Employee Name (Link) -->\n                    <template v-slot:[`item.name`]=\"{ item }\">\n                        <router-link :to=\"`/details/${item.id}/${linkNeated(item.name)}`\">\n                            {{ item.name }}\n                        </router-link>\n                    </template>\n\n                    <!-- Actions colom -->\n                    <template v-slot:[`item.actions`]=\"{ item }\">\n                        <router-link style=\"text-decoration:none;\" :to=\"`/edit/${item.id}/${linkNeated(item.name)}`\">\n                            <v-icon\n                                \n                                class=\"mr-2\"\n                            >\n                                mdi-pencil\n                            </v-icon>\n                        </router-link>\n\n                        <v-icon\n                            @click=\"deleteItem(item)\"\n                        >\n                            mdi-delete\n                        </v-icon>\n                    </template>\n                </v-data-table>\n            </v-col>\n        </v-row>\n\n    </v-container>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n    data(){\n        return{\n            search: '',\n            dialogDelete: false,\n            selectedItemIndex: -1,\n            headers: [\n                {text: 'ID', value: 'id'},\n                {text: 'Name', value: 'name'},\n                {text: 'Departement', value: 'departement'},\n                {text: 'Actions', value: 'actions'}\n            ],\n            // Employees data dummies\n            employees: []\n        }\n    },\n    methods: {\n        linkNeated(link){\n            return link.replace(/\\s+/g, '-').toLocaleLowerCase()\n        },\n        deleteItem(item){\n            console.log(item)\n            this.selectedItemIndex = this.employees.indexOf(item)\n            this.dialogDelete = true\n            // console.log(this.selectedItemIndex)\n        },\n        closeDelete(){\n            this.dialogDelete = false\n            this.$nextTick(() => {\n                this.selectedItemIndex = -1\n            })\n        },\n        deleteItemConfirm(){\n            const deleteEmployee = this.employees[this.selectedItemIndex]\n            axios\n                .delete(`http://localhost:3000/api/employees/${deleteEmployee.id}`)\n                .then(response => {\n                    this.employees.splice(this.selectedItemIndex, 1)\n                    this.closeDelete()\n                    console.log(\"DELETE SUCCESS\", response.data)\n                })\n                .catch(error => {\n                    console.log(error)\n                })\n            \n        }\n    },\n    mounted(){\n        axios\n            .get('http://localhost:3000/api/employees/')\n            .then(response => {\n                this.employees = response.data\n                // console.log(response.data)\n            })\n            .catch(error => console.log(error))\n    }\n}\n</script>"],"sourceRoot":"src/components"}]}